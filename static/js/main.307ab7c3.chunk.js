(this["webpackJsonpreactjs-habit-builder"]=this["webpackJsonpreactjs-habit-builder"]||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},144:function(e,t,a){},165:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(1),i=a.n(n),r=a(20),s=a.n(r),l=(a(115),a(7)),o=a(5),d=a(12),b=a(15),j="https://habit-builder-ada.herokuapp.com",h="accessToken",u=j+"/oauth2/authorize/google?redirect_uri=https://ichbinorange.github.io/reactjs-habit-builder/oauth2/redirect";function m(){return localStorage.getItem(h)?function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem(h)&&t.append("Authorization","Bearer "+localStorage.getItem(h));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))}))}({url:j+"/enjoyer/me",method:"GET"}):Promise.reject("No access token set.")}a(116);var x=function(e){return Object(c.jsx)("header",{className:"app-header",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"app-options",children:Object(c.jsxs)("nav",{className:"app-nav fixed-top navbar-light bg-light",children:[Object(c.jsx)(d.b,{to:"/",className:"navbar-brand navbar-nav mr-auto text-center",children:Object(c.jsx)("h1",{className:"display-3",children:"Habit Buddy"})}),e.authenticated?Object(c.jsxs)("ul",{className:"nav justify-content-end",children:[Object(c.jsx)("li",{children:Object(c.jsx)(d.c,{to:"/habit",children:"Habit"})}),Object(c.jsx)("li",{children:Object(c.jsx)(d.c,{to:"/habitTracker",children:"Habit Tracker"})}),Object(c.jsx)("li",{children:Object(c.jsx)(d.c,{to:"/friendship",children:"Friends"})}),Object(c.jsx)("li",{children:Object(c.jsx)(d.c,{to:"/profile",children:"Profile"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{className:"thumbnail",onClick:e.onLogout,children:"Logout"})})]}):Object(c.jsxs)("ul",{className:"nav justify-content-end",children:[Object(c.jsx)("li",{children:Object(c.jsx)(d.c,{to:"/login",children:"Login"})}),Object(c.jsx)("li",{children:Object(c.jsx)(d.c,{to:"/signup",children:"Signup"})})]})]})})})})},O=(a(124),function(){return Object(c.jsxs)("div",{className:"page-not-found",children:[Object(c.jsx)("h1",{className:"title",children:"404"}),Object(c.jsx)("div",{className:"desc",children:"The Page you're looking for was not found."}),Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("button",{className:"go-back-btn btn btn-primary",type:"button",children:"Go Back"})})]})}),f=function(){return Object(c.jsx)("div",{className:"loading-indicator",style:{display:"block",textAlign:"center",marginTop:"30px"},children:"Loading ..."})},g=a(106),p=function(e){var t=e.component,a=e.authenticated,n=Object(g.a)(e,["component","authenticated"]);return Object(c.jsx)(b.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return a?Object(c.jsx)(t,Object(l.a)(Object(l.a)({},n),e)):Object(c.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=(a(125),function(){return Object(c.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide w-75 d-block mx-auto","data-ride":"carousel",children:[Object(c.jsxs)("ol",{className:"carousel-indicators",children:[Object(c.jsx)("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),Object(c.jsx)("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),Object(c.jsx)("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})]}),Object(c.jsxs)("div",{className:"carousel-inner",children:[Object(c.jsxs)("div",{className:"carousel-item",children:[Object(c.jsx)("img",{className:"d-block w-100 img-fluid img-thumbnail",src:"https://images.unsplash.com/photo-1551632811-561732d1e306?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",alt:"Third slide"}),Object(c.jsx)("div",{className:"carousel-caption d-none d-md-block",children:Object(c.jsx)("h4",{children:"Independent backpacker?"})})]}),Object(c.jsxs)("div",{className:"carousel-item",children:[Object(c.jsx)("img",{className:"d-block w-100 img-fluid img-thumbnail",src:"https://images.unsplash.com/photo-1580894908361-967195033215?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",alt:"Second slide"}),Object(c.jsx)("div",{className:"carousel-caption d-none d-md-block",children:Object(c.jsx)("h4",{children:"Build a mobile app in half a year?"})})]}),Object(c.jsxs)("div",{className:"carousel-item active",children:[Object(c.jsx)("img",{className:"d-block w-100 img-fluid img-thumbnail",src:"https://images.unsplash.com/photo-1605522561233-768ad7a8fabf?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1952&q=80",alt:"First slide"}),Object(c.jsx)("div",{className:"carousel-caption d-none d-md-block",children:Object(c.jsx)("h4",{children:"Cook delicious Taiwanese food?"})})]})]}),Object(c.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(c.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(c.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(c.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(c.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(c.jsx)("span",{className:"sr-only",children:"Next"})]})]})}),N=(a(126),function(){return Object(c.jsx)("footer",{className:"force-to-bottom",children:Object(c.jsx)("span",{className:"align-bottom",children:"\xa9 2021 Ting-Yi Liu @Ada Developers Academy"})})}),y=(a(69),a.p+"static/media/google-logo.9a818e61.png"),k=function(){return Object(c.jsx)("div",{className:"social-login",children:Object(c.jsxs)("a",{className:"btn btn-block social-btn google",href:u,children:[Object(c.jsx)("img",{src:y,alt:"Google"})," Log in with Google"]})})},w=function(e){return e.authenticated?Object(c.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}}):Object(c.jsx)("div",{className:"login-container",children:Object(c.jsxs)("div",{className:"login-content",children:[Object(c.jsx)("h1",{className:"login-title",children:"Login to Habit Buddy"}),Object(c.jsx)(k,{}),Object(c.jsx)("div",{className:"or-separator",children:Object(c.jsx)("span",{className:"or-text",children:"OR"})}),Object(c.jsxs)("span",{className:"signup-link",children:["New user? ",Object(c.jsx)(d.b,{to:"/signup",children:"Sign up!"})]})]})})},C=(a(70),function(){return Object(c.jsx)("div",{className:"social-signup",children:Object(c.jsxs)("a",{className:"btn btn-block social-btn google",href:u,children:[Object(c.jsx)("img",{src:y,alt:"Google"})," Sign up with Google"]})})}),D=function(e){return Object(c.jsxs)("div",{className:"signup-container",children:[e.authenticated?Object(c.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}}):null,Object(c.jsxs)("div",{className:"signup-content",children:[Object(c.jsx)("h1",{className:"signup-title",children:"Signup with Habit Buddy"}),Object(c.jsx)(C,{}),Object(c.jsx)("div",{className:"or-separator",children:Object(c.jsx)("span",{className:"or-text",children:"OR"})}),Object(c.jsxs)("span",{className:"login-link",children:["Already have an account? ",Object(c.jsx)(d.b,{to:"/login",children:"Login!"})]})]})]})},S=a(17),U=a(9),I=a.n(U),T=a(16),A=function(e){var t=Object(n.useState)({name:e.currentUser.name,imageUrl:e.currentUser.imageUrl,about:e.currentUser.about}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))};return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.updateUserCallback(i),r({name:"",imageUrl:"",about:""})},className:"justify-content-center",children:[Object(c.jsx)("h2",{className:"new-card-form__header mt-3",children:"Update Your Informatoin"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Name:"}),Object(c.jsx)("input",{id:"name",name:"name",onChange:s,value:i.name,className:"form-control",placeholder:e.currentUser.name?e.currentUser.name:"Your display name...",type:"text"}),Object(c.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Your Image:"}),Object(c.jsx)("input",{id:"imageUrl",name:"imageUrl",onChange:s,value:i.imageUrl,className:"form-control",placeholder:e.currentUser.imageUrl?e.currentUser.imageUrl:"Your display image...",type:"text"}),Object(c.jsx)("label",{className:"exampleInputEmail1 m-2",children:"About You:"}),Object(c.jsx)("textarea",{id:"about",name:"about",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},value:i.about,className:"form-control",placeholder:e.currentUser.about?e.currentUser.about:"Something about you..."}),Object(c.jsx)("button",{onClick:function(t){return e.cancelUpdateUserCallback},className:"btn btn-outline-info mt-3 mr-3 btn-sm",children:"Cancel"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-outline-success mt-3 btn-sm",children:"Save"})]})]})},B=(a(144),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),h=d[0],u=d[1],m=Object(n.useState)(Object(l.a)({},e.currentUser)),x=Object(o.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)(""),p=Object(o.a)(g,2),v=(p[0],p[1]);Object(n.useEffect)((function(){I.a.get("".concat(j,"/enjoyer/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;f(t)})).catch((function(e){v(e.message)}))}),[]);return h?Object(c.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location,error:{from:e.location}}}}):Object(c.jsxs)("div",{className:"container component-bkgd pt-5 p-4",children:[Object(c.jsx)("h1",{className:"mb-5 text-center",children:"Your Profile"}),Object(c.jsxs)("div",{className:"row profile-info",children:[Object(c.jsx)("div",{className:(e.currentUser.imageUrl,"col-sm"),children:O.imageUrl?Object(c.jsx)("img",{className:"w-75 rounded-circle border border-secandary",src:O.imageUrl,alt:O.name}):Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:O.name&&O.name[0]})})}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsxs)("div",{className:"text-center m-5",children:[Object(c.jsx)("h2",{children:O.name}),Object(c.jsx)("p",{className:"text-center m-2",children:O.email}),Object(c.jsx)("h5",{className:"mt-5 text-center",children:" About you"}),Object(c.jsx)("div",{className:"card d-inline-flex mt-2",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:O.about})})})})]}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("button",{onClick:function(e){return r(!0)},className:"btn btn-outline-info btn-sm",children:"Edit"}),Object(c.jsx)("button",{onClick:function(){return e=O.id,u(!h),void I.a.delete("".concat(j,"/enjoyer/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){localStorage.clear(),v("Enjoyer ".concat(e," deleted"))})).catch((function(t){v("Unable to delete enjoyer ".concat(e))}));var e},className:"btn btn-outline-danger ml-3 btn-sm","data-testid":O.id,children:"Delete Account"})]})]}),i?Object(c.jsx)("div",{className:"col-sm text-center m-5",children:Object(c.jsx)(A,{updateUserCallback:function(t){r(!1),I.a.put("".concat(j,"/enjoyer/").concat(e.currentUser.id),Object(l.a)(Object(l.a)({},t),{},{id:e.currentUser.id}),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var a=[].concat(Object(S.a)(O),Object(S.a)(t));f(a),v("")})).catch((function(e){v("Unable to update User Info")}))},cancelUpdateUserCallback:function(){r(!1)},currentUser:O})}):null]})]})}),H=function(e){var t=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e.location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},a=t("token"),n=t("error");return a?(localStorage.setItem(h,a),Object(c.jsx)(b.a,{to:{pathname:"/profile",state:{from:e.location}}})):Object(c.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location,error:n}}})},L=["","daily","weekly","monthly","yearly"],M=function(e){var t=Object(n.useState)({title:"",goal:"",description:"",streak:""}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))};return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addHabitCallback(i),r({title:"",goal:"",description:"",streak:""})},className:"text-center",children:[Object(c.jsx)("h3",{className:"text-center",children:"New Habit"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"exampleInputEmail1",children:"Title:"}),Object(c.jsx)("input",{id:"title",name:"title",onChange:s,value:i.title,className:"form-control",placeholder:"Eat veggies...",type:"text"}),Object(c.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Goal:"}),Object(c.jsx)("input",{id:"goal",name:"goal",onChange:s,value:i.goal,className:"form-control",placeholder:"Two type of veggies per day...",type:"text"}),Object(c.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Note:"}),Object(c.jsx)("textarea",{id:"description",name:"description",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},value:i.description,className:"form-control",placeholder:"Put veggies in grocery shopping list..."}),Object(c.jsx)("label",{className:"exampleFormControlSelect1 m-2",children:"Streak:"}),Object(c.jsx)("select",{className:"form-control",defaultValue:"",name:"streak",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},children:L.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))}),Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-outline-success btn-sm mt-3",children:"Add Habit"})})]})]})},F=["daily","weekly","monthly","yearly"],z=function(e){var t=Object(n.useState)({title:e.title,goal:e.goal,description:e.description,streak:e.streak,habitBuilt:e.habitBuilt}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))};return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.updateHabitCallback(i),r({title:"",goal:"",description:"",streak:"",habitBuilt:e.habitBuilt})},className:"justify-content-center",children:[Object(c.jsxs)("h2",{className:"new-card-form__header",children:["Update Habit# ",e.id]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("div",{className:"custom-control custom-switch",children:[Object(c.jsx)("input",{id:"customSwitches",name:"customSwitches",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},{habitBuilt:e.target.checked}))},defaultChecked:i.habitBuilt,className:"custom-control-input mr-2",type:"checkbox"}),Object(c.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitches",children:"It's part of my life Now!"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{className:"exampleInputEmail1",children:"Title:"}),Object(c.jsx)("input",{id:"title",name:"title",onChange:s,value:i.title,className:"form-control w-100",type:"text"}),Object(c.jsx)("label",{className:"exampleInputEmail1",children:"Goal:"}),Object(c.jsx)("input",{id:"goal",name:"goal",onChange:s,value:i.goal,className:"form-control w-100",type:"text"}),Object(c.jsx)("label",{className:"exampleInputEmail1",children:"Description:"}),Object(c.jsx)("textarea",{id:"description",name:"description",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},value:i.description,className:"form-control w-100",placeholder:"description"}),Object(c.jsx)("label",{className:"exampleFormControlSelect1",children:"Streak:"}),Object(c.jsx)("select",{className:"form-control w-100",name:"streak",value:i.streak,onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},children:F.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("button",{onClick:function(t){return e.cancelUpdateHabitCallback},className:"btn btn-outline-info mt-3 mr-3 btn-sm",children:"Cancel"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-outline-success mt-3 btn-sm",children:"Save"})]})]})]})},P=a(65),E=a.n(P),Y=(a(145),{year:"numeric",month:"short",day:"numeric"}),G=Array.from(Array(25).keys()),q=function(e){var t=Object(n.useState)({habitId:-1,workTime:0,memo:""}),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addHabitTrackerCallback(Object(l.a)(Object(l.a)({},i),{},{habitId:e.habitId})),r({habitId:-1,workTime:0,memo:""})},children:[Object(c.jsxs)("h3",{children:["New Record ",-1!==e.habitId?"for Habit# ".concat(e.habitId):"- Pick a habit"]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("h6",{children:["Today is ",(new Date).toLocaleDateString("en-US",Y)]}),Object(c.jsx)("label",{className:"text-left m-2",children:"Time spent(hr):"}),Object(c.jsx)("select",{className:"form-control",defaultValue:0,name:"workTime",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},children:G.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))}),Object(c.jsx)("label",{className:"text-left m-2",children:"Note:"}),Object(c.jsx)("textarea",{id:"memo",name:"memo",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},value:i.memo,className:"form-control",placeholder:"I had tomato and zucchini today"}),Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("button",{type:"submit",className:-1!==e.habitId?"btn btn-outline-success mt-3 btn-sm":"btn btn-outline-success mt-3 btn-sm disabled",children:"Add Record"})})]})]})},V={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},W=function(e){return Object(c.jsxs)("div",{className:"card w-100 d-inline-flex bd-highlight p-2 m-1",children:[Object(c.jsxs)("div",{className:"card-body p-0",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(c.jsxs)("h5",{className:"display-5",children:["#",e.habitId]}),Object(c.jsxs)("div",{className:"display-5",children:["Record ID: ",e.id]})]}),Object(c.jsxs)("div",{children:["Time spent(hr): ",e.workTime,Object(c.jsx)("br",{}),"Note: ",e.memo]}),Object(c.jsx)("div",{className:"text-right p-2",children:Object(c.jsx)("button",{onClick:function(){return e.deleteHabitTrackerCallback(e.id)},className:"btn btn-outline-danger btn-sm",children:"Delete"})})]}),Object(c.jsx)("div",{className:"card-footer text-center p-0",children:new Date(e.createdDate).toLocaleString("en-US",V)})]})},R=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=(l[0],l[1]);Object(n.useEffect)((function(){I.a.get("".concat(j,"/habitTrackers/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(S.a)(t)):r(t)})).catch((function(e){d(e.message)}))}),[]);var b=function(e){var t=i.filter((function(t){return t.id!==e}));t.length<i.length&&(I.a.delete("".concat(j,"/habitTracker/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){d("Habit ".concat(e," deleted"))})).catch((function(t){d("Unable to delete habitTracker ".concat(e))})),r(t))},h=i.filter((function(t){return t.habit.id===e.habitId})).map((function(e){return Object(c.jsx)(W,{id:e.id,habitId:e.habit.id,workTime:e.workTime,memo:e.memo,createdDate:e.createdDate,deleteHabitTrackerCallback:b},e.id)})),u=i.map((function(e){return Object(c.jsx)(W,{id:e.id,habitId:e.habit.id,workTime:e.workTime,memo:e.memo,createdDate:e.createdDate,deleteHabitTrackerCallback:b},e.id)}));return Object(c.jsx)("div",{children:-1===e.habitId?u:h})},_=a(8),J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],X=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"],$=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=(l[0],l[1]),b=function(e){return new Date(new Date(e).getFullYear(),new Date(e).getMonth()+1,0).getDate()},h=function(e){return new Date(e.searchYear).getFullYear()===new Date(e.recordYear).getFullYear()},u=function(e){return new Date(e.searchMonth).getMonth()===new Date(e.recordDate).getMonth()},m=function(e){return new Date(e).getMonth()},x=function(e){return new Date(e).getDate()};Object(n.useEffect)((function(){I.a.get("".concat(j,"/habitTrackers/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;r(Object(S.a)(t)),d("")})).catch((function(e){d("Unable to add a new habit record")}))}),[]);var O=function(){var t={},a={},c=0,n=[];if(5===e.datePickerFormat.length)if(n=Array(b("".concat(e.datePicker))).fill(0),-1===e.habitId){i.filter((function(t){return u({searchMonth:e.datePicker,recordDate:t.createdDate})&&h({searchYear:e.datePicker,recordYear:t.createdDate})})).map((function(a){var c=x(a.createdDate)-1;if(!t.hasOwnProperty(a.habit.id)){t[a.habit.id]=new Array(b("".concat(e.datePicker)));for(var i=0;i<t[a.habit.id].length;i++)t[a.habit.id][i]={x:i+1,y:0}}t[a.habit.id][c].y+=a.workTime,n[c]+=a.workTime}));var r=0;for(var s in t)a[s]={title:"Habit#".concat(s),color:X[r]},r+=1;c=Math.max.apply(Math,Object(S.a)(n))}else{t[e.habitId]=new Array(b("".concat(e.datePicker)));for(var l=0;l<t[e.habitId].length;l++)t[e.habitId][l]={x:l+1,y:0};i.filter((function(t){return t.habit.id===e.habitId&&u({searchMonth:e.datePicker,recordDate:t.createdDate})&&h({searchYear:e.datePicker,recordYear:t.createdDate})})).map((function(a){var n=x(a.createdDate)-1;t[e.habitId][n].y+=a.workTime,c<t[a.habit.id][n].y&&(c=t[a.habit.id][n].y)}));a[e.habitId]={title:"Habit#".concat(e.habitId),color:X[0]}}else if(n=Array(12).fill(0),-1===e.habitId){i.filter((function(t){return h({searchYear:e.datePicker,recordYear:t.createdDate})})).map((function(e){var a=m(e.createdDate);if(!t.hasOwnProperty(e.habit.id)){t[e.habit.id]=new Array(12);for(var c=0;c<t[e.habit.id].length;c++)t[e.habit.id][c]={x:c+1,y:0}}t[e.habit.id][a].y+=e.workTime,n[a]+=e.workTime}));var o=0;for(var d in t)a[d]={title:"Habit#".concat(d),color:X[o]},o+=1;c=Math.max.apply(Math,Object(S.a)(n))}else{t[e.habitId]=new Array(12);for(var j=0;j<t[e.habitId].length;j++)t[e.habitId][j]={x:j+1,y:0};i.filter((function(t){return t.habit.id===e.habitId&&h({searchYear:e.datePicker,recordYear:t.createdDate})})).map((function(a){var n=m(a.createdDate);t[e.habitId][n].y+=a.workTime,c<t[a.habit.id][n].y&&(c=t[a.habit.id][n].y)}));a[e.habitId]={title:"Habit#".concat(e.habitId),color:X[0]}}return{habitLegend:a,habitData:t,yAxisMax:c+=1}};return Object(c.jsx)("div",{children:function(){if(1===O().yAxisMax)return 5===e.datePickerFormat.length?Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{orientation:"horizontal",items:[]}),Object(c.jsxs)(_.e,{stackBy:"y",xDomain:[1,b("".concat(e.datePicker))],yDomain:[0,6],width:480,height:300,children:[Object(c.jsx)(_.b,{}),Object(c.jsx)(_.d,{attr:"x",attrAxis:"y",orientation:"bottom",title:"day (".concat(J[e.datePicker.getMonth()],", ").concat(e.datePicker.getFullYear(),")")}),Object(c.jsx)(_.f,{attr:"y",attrAxis:"x",orientation:"left",title:"time spent(hr)"}),Object(c.jsx)(_.c,{color:"",barWidth:.4,data:[{x:0,y:0}],style:{}})]})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{orientation:"horizontal",items:[]}),Object(c.jsxs)(_.e,{stackBy:"y",xDomain:[0,12],yDomain:[0,6],width:480,height:300,children:[Object(c.jsx)(_.b,{}),Object(c.jsx)(_.d,{attr:"x",attrAxis:"y",orientation:"bottom",title:"(Month of ".concat(e.datePicker.getFullYear(),")")}),Object(c.jsx)(_.f,{attr:"y",attrAxis:"x",orientation:"left",title:"time spent(hr)"}),Object(c.jsx)(_.c,{color:"",barWidth:.4,data:[{x:0,y:0}],style:{}})]})]});if(5===e.datePickerFormat.length){if(-1===e.habitId){var t=new Array;return Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{orientation:"horizontal",items:function(){for(var e in O().habitLegend)t.push(O().habitLegend[e]);return t}()}),Object(c.jsxs)(_.e,{stackBy:"y",xDomain:[1,b("".concat(e.datePicker))],yDomain:[0,O().yAxisMax],width:480,height:300,children:[Object(c.jsx)(_.b,{}),Object(c.jsx)(_.d,{attr:"x",attrAxis:"y",orientation:"bottom",title:"day (".concat(J[e.datePicker.getMonth()],", ").concat(e.datePicker.getFullYear(),")")}),Object(c.jsx)(_.f,{attr:"y",attrAxis:"x",orientation:"left",title:"time spent (hr)"}),function(){var e=[];for(var t in O().habitData)e.push([O().habitData[t],O().habitLegend[t].color]);return e}().map((function(e){return Object(c.jsx)(_.c,{color:e[1],barWidth:.4,data:e[0],style:{}},e[1])}))]})]})}return Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{orientation:"horizontal",items:[O().habitLegend[e.habitId]]}),Object(c.jsxs)(_.e,{stackBy:"y",xDomain:[1,b("".concat(e.datePicker))],yDomain:[0,O().yAxisMax],width:480,height:300,children:[Object(c.jsx)(_.b,{}),Object(c.jsx)(_.d,{attr:"x",attrAxis:"y",orientation:"bottom",title:"day (".concat(J[e.datePicker.getMonth()],", ").concat(e.datePicker.getFullYear(),")")}),Object(c.jsx)(_.f,{attr:"y",attrAxis:"x",orientation:"left",title:"time spent(hr)"}),Object(c.jsx)(_.c,{color:"#19CDD7",barWidth:.4,data:O().habitData[e.habitId],style:{}})]})]})}if(-1===e.habitId){var a=new Array;return Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{orientation:"horizontal",items:function(){for(var e in O().habitLegend)a.push(O().habitLegend[e]);return a}()}),Object(c.jsxs)(_.e,{stackBy:"y",xDomain:[1,12],yDomain:[0,O().yAxisMax],width:480,height:300,children:[Object(c.jsx)(_.b,{}),Object(c.jsx)(_.d,{attr:"x",attrAxis:"y",orientation:"bottom",title:"(Month of ".concat(e.datePicker.getFullYear(),")")}),Object(c.jsx)(_.f,{attr:"y",attrAxis:"x",orientation:"left",title:"time spent (hr)"}),function(){var e=[];for(var t in O().habitData)e.push([O().habitData[t],O().habitLegend[t].color]);return e}().map((function(e){return Object(c.jsx)(_.c,{color:e[1],barWidth:.4,data:e[0],style:{}},e[1])}))]})]})}return Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{orientation:"horizontal",items:[O().habitLegend[e.habitId]]}),Object(c.jsxs)(_.e,{stackBy:"y",xDomain:[1,12],yDomain:[0,O().yAxisMax],width:480,height:300,children:[Object(c.jsx)(_.b,{}),Object(c.jsx)(_.d,{attr:"x",attrAxis:"y",orientation:"bottom",title:"(Month of ".concat(e.datePicker.getFullYear(),")")}),Object(c.jsx)(_.f,{attr:"y",attrAxis:"x",orientation:"left",title:"time spent(hr)"}),Object(c.jsx)(_.c,{color:"#19CDD7",barWidth:.4,data:O().habitData[e.habitId],style:{}})]})]})}()})},K=(a(165),function(e){var t=Object(n.useState)(-1),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),b=l[0],h=l[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),x=(m[0],m[1]),O=Object(n.useState)(new Date),f=Object(o.a)(O,2),g=f[0],p=f[1],v=Object(n.useState)("month"),N=Object(o.a)(v,2),y=N[0],k=N[1];Object(n.useEffect)((function(){!function(e){var t=e.split("/"),a=Number(t[t.length-1]);isNaN(a)||r(a)}(e.location.pathname)}),[i]);var w,C=function(e){r(e)},D=function(e){k(e)};return Object(c.jsxs)("div",{className:"container component-bkgd pt-5 p-4",children:[Object(c.jsx)("h1",{className:"mb-5 text-center",children:"Habit Tracker"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(c.jsx)("p",{className:"pl-3",children:-1===i?"Pick one Habit":"Selected Habit#".concat(i)}),Object(c.jsx)(d.b,{to:"/habitTracker",children:Object(c.jsx)("button",{className:-1===i?"btn btn-outline-secondary btn-sm disabled":"btn btn-outline-secondary btn-sm",onClick:function(){r(-1)},children:"Overview"})})]}),-1===i?null:Object(c.jsxs)("div",{children:[Object(c.jsx)(ee,{currentUser:e.currentUser,habitPage:!1,selectHabit:C,habitId:i}),Object(c.jsx)("hr",{className:"style1"})]}),Object(c.jsx)("h5",{className:"mb-2 text-center",children:"Habit List"}),Object(c.jsx)(ee,{currentUser:e.currentUser,selectHabit:C,habitPage:!1,habitId:-1})]}),Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-end mb-2",children:[(w=y,5===w.length?Object(c.jsx)(E.a,{selected:g,onChange:function(e){return p(e)},dateFormat:"MM/yyyy",showMonthYearPicker:!0,showFullMonthYearPicker:!0}):Object(c.jsx)(E.a,{selected:g,onChange:function(e){return p(e)},showYearPicker:!0,dateFormat:"yyyy"})),Object(c.jsxs)("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons",children:[Object(c.jsxs)("button",{className:"btn btn-outline-secondary btn-sm active",onClick:function(e){return D("month")},children:["Month",Object(c.jsx)("input",{type:"radio",name:"options",id:"option1","data-autocomplete":"off",checked:!0})]}),Object(c.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(e){return D("year")},children:["Year",Object(c.jsx)("input",{type:"radio",name:"options",id:"option2","data-autocomplete":"off"})]})]})]}),Object(c.jsx)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight mb-2",children:Object(c.jsx)($,{currentUser:e.currentUser,habitId:i,datePickerFormat:y,datePicker:g})}),Object(c.jsx)("hr",{className:"style1"}),Object(c.jsx)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight mb-2",children:Object(c.jsx)("div",{className:"card-body p-1",children:Object(c.jsx)(q,{habitId:i,addHabitTrackerCallback:function(e){I.a.post("".concat(j,"/habit/").concat(e.habitId,"/habitTracker"),e,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=[].concat(Object(S.a)(b),[e.data]);h(t),x("")})).catch((function(e){x("Unable to add a new habit record")}))}})})})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h5",{className:"mb-2 text-center",children:-1===i?"Habit Records":"Records for Habit#".concat(i)}),Object(c.jsx)(R,{currentUser:e.currentUser,habitId:i})]})]})]})}),Q=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),h=Object(o.a)(s,2),u=(h[0],h[1]);Object(n.useEffect)((function(){}),[i]);var m;return Object(c.jsxs)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight mb-2",children:[Object(c.jsx)("div",{className:"card-body p-1",children:i?Object(c.jsx)(z,{id:e.id,title:e.title,goal:e.goal,description:e.description,streak:e.streak,habitBuilt:e.habitBuilt,updateHabitCallback:function(t){I.a.put("".concat(j,"/habit/").concat(e.id),Object(l.a)(Object(l.a)({},t),{},{id:e.id}),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){u("Habit ".concat(e.id," updated")),r(!1)})).catch((function(t){u("Unable to update habit ".concat(e.id))}))},cancelUpdateHabitCallback:function(){r(!1)}}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("div",{className:"p-1",children:(m=e.streak,m.startsWith("d")?Object(c.jsx)("span",{className:"badge badge-pill badge-primary text-capitalize",children:m}):m.startsWith("w")?Object(c.jsx)("span",{className:"badge badge-pill badge-warning text-capitalize",children:m}):m.startsWith("m")?Object(c.jsx)("span",{className:"badge badge-pill badge-secondary text-capitalize",children:m}):Object(c.jsx)("span",{className:"badge badge-pill badge-dark text-capitalize",children:m}))}),Object(c.jsx)("div",{className:e.habitBuilt?"p-1":"",children:Object(c.jsx)("span",{className:"badge badge-pill badge-success",children:e.habitBuilt?e.habitPage?Object(c.jsxs)("div",{children:[Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-award",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M9.669.864L8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68L9.669.864zm1.196 1.193l.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702 1.509.229z"}),Object(c.jsx)("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"})]}),"It's part of My Life"]}):Object(c.jsx)("div",{children:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-award",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M9.669.864L8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68L9.669.864zm1.196 1.193l.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702 1.509.229z"}),Object(c.jsx)("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"})]})}):""})}),Object(c.jsx)("div",{className:"ml-auto p-1",children:Object(c.jsx)(b.d,{children:e.habitPage?Object(c.jsxs)("div",{children:[Object(c.jsx)(d.b,{to:"/habitTracker/habit/".concat(e.id),children:"View Record"}),Object(c.jsx)(b.b,{className:"mb-2",path:"/habitTracker/habit/".concat(e.id),component:K,currentHabit:e.id})]}):Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/habitTracker",children:Object(c.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(t){return e.selectHabit(e.id)},children:"Select"})})})})})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h5",{className:"card-title",children:["#",e.id," - ",e.title]}),Object(c.jsxs)("h6",{children:["Goal: ",e.goal]})]}),e.habitPage?Object(c.jsxs)("div",{className:"card-text",children:[Object(c.jsx)("hr",{className:"my-1"}),Object(c.jsx)("p",{children:e.description})]}):null,e.habitPage?Object(c.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(c.jsx)("button",{onClick:function(){return e.deleteHabitCallback(e.id)},className:"btn btn-outline-danger mr-2 btn-sm","data-testid":e.id,children:"Delete"}),i?null:Object(c.jsx)("button",{onClick:function(e){return r(!0)},className:"btn btn-outline-info btn-sm",children:"Edit"})]}):null]})}),Object(c.jsxs)("div",{className:"card-footer text-center p-0",children:["Start date: ",e.createdDate]})]})},Z={year:"numeric",month:"short",day:"numeric"},ee=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=(l[0],l[1]);Object(n.useEffect)((function(){I.a.get("".concat(j,"/habits/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(S.a)(t)):r(t)})).catch((function(e){d(e.message)}))}),[]);var b=function(e){var t=i.filter((function(t){return t.id!==e}));t.length<i.length&&(I.a.delete("".concat(j,"/habit/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){d("Habit ".concat(e," deleted"))})).catch((function(t){d("Unable to delete habit ".concat(e))})),r(t))},h=i.filter((function(t){return t.id===e.habitId})).map((function(t){return Object(c.jsx)(Q,{id:t.id,title:t.title,goal:t.goal,description:t.description,streak:t.streak,habitBuilt:t.habitBuilt,createdDate:new Date(t.createdDate).toLocaleDateString("en-US",Z),deleteHabitCallback:b,selectHabit:e.selectHabit,habitPage:e.habitPage},t.id)})),u=i.map((function(t){return Object(c.jsx)(Q,{id:t.id,title:t.title,goal:t.goal,description:t.description,streak:t.streak,habitBuilt:t.habitBuilt,createdDate:new Date(t.createdDate).toLocaleDateString("en-US",Z),deleteHabitCallback:b,selectHabit:e.selectHabit,habitPage:e.habitPage},t.id)}));return Object(c.jsx)("div",{children:-1===e.habitId?u:h})},te=a(249),ae=a(248),ce=a(250),ne={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},ie=function(e){return Object(c.jsxs)("div",{className:"card w-100 p-2 bd-highlight mb-2 text-left",children:[Object(c.jsxs)("div",{className:"card-body p-0",children:[Object(c.jsxs)("div",{className:"p-0 font-weight-bold",children:["From:",Object(c.jsx)(te.a,{placement:"top",overlay:Object(c.jsx)(ae.a,{id:'tooltip-$"top"',children:e.friend.email}),children:Object(c.jsx)(ce.a,{variant:"outline-light",children:Object(c.jsx)("img",{className:"rounded-circle border border-secondary",src:e.friend.imageUrl,alt:e.friend.name})})}),e.friend.name]}),Object(c.jsxs)("div",{children:["For #",e.habit.id," - ",e.habit.title]}),Object(c.jsxs)("div",{children:["Message: ",e.text]}),Object(c.jsx)("div",{className:"text-center pb-1",children:Object(c.jsx)("button",{onClick:function(){return e.deleteMsgCallback(e.id)},className:"btn btn-outline-danger btn-sm",children:"Delete"})})]}),Object(c.jsx)("div",{className:"card-footer text-center p-0",children:new Date(e.createdDate).toLocaleString("en-US",ne)})]})},re=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=(l[0],l[1]);Object(n.useEffect)((function(){I.a.get("".concat(j,"/habitMsgs/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(S.a)(t)):r(t)})).catch((function(e){d(e.message)}))}),[]);var b=function(e){I.a.delete("".concat(j,"/habitMsg/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){d("HabitMsg ".concat(e," deleted"))})).catch((function(t){d("Unable to delete habitMsg ".concat(e))}))},h=i.map((function(e){return Object(c.jsx)(ie,{id:e.id,createdDate:e.createdDate,text:e.text,habit:e.habit,friend:e.friend,deleteMsgCallback:b},e.id)}));return Object(c.jsx)("div",{children:h})},se=(a(237),function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=l[0],b=l[1];return Object(c.jsxs)("div",{className:"container component-bkgd pt-5 p-4",children:[Object(c.jsx)("h1",{className:"mb-5 text-center",children:"Your Habits"}),Object(c.jsx)("div",{className:"validation-errors-display",children:Object(c.jsx)("h2",{className:"validation-errors-display__list",children:d})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(M,{addHabitCallback:function(t){I.a.post("".concat(j,"/enjoyer/").concat(e.currentUser.id,"/habit"),t,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=[].concat(Object(S.a)(i),[e.data]);r(t),b("")})).catch((function(e){b("Unable to add a new habit")}))}})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(ee,{currentUser:e.currentUser,selectHabit:function(e){return null},habitPage:!0,habitId:-1})}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h5",{className:"text-center mb-3",children:"Messages from friends"}),Object(c.jsx)(re,{currentUser:e.currentUser})]})]})]})}),le=function(e){var t=Object(n.useState)({text:""}),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h6",{children:"Search and Add a friend"}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.searchEmailCallback(i.text),r({text:""})},className:"input-group",children:[Object(c.jsx)("input",{id:"text",name:"text",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},value:i.text,className:"form-control d-inline",type:"text",placeholder:"Search by email"}),Object(c.jsx)("button",{className:"btn btn-outline-secondary btn-sm ml-1 d-inline",onClick:function(t){t.preventDefault(),r({text:""}),e.resetCallback()},type:"button",children:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(c.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})}),Object(c.jsx)("button",{className:"btn btn-outline-info btn-sm ml-1 d-inline",type:"submit",children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(c.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]})]})},oe=(a(238),function(e){var t=Object(n.useState)({id:-1,imageUrl:"",name:"",email:""}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=l[0],b=l[1];return Object(n.useEffect)((function(){I.a.get("".concat(j,"/enjoyer/email/").concat(e.email),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){var a=t.data;e.currentUser.id!==a.id?(r({id:a.id,imageUrl:a.imageUrl,name:a.name,email:a.email}),b("")):b("Error: Ha, don't search yourself.")})).catch((function(e){b("Error: Unable to find the email")}))}),[]),Object(c.jsx)("div",{children:0===i.email.length?d:Object(c.jsx)("div",{className:"card d-inline-flex mt-2",children:Object(c.jsxs)("div",{className:"card-body p-1",children:[Object(c.jsx)("img",{className:"rounded-circle border border-secondary mr-1",src:i.imageUrl,alt:i.name}),i.name,Object(c.jsx)("button",{onClick:function(t){return e.addFriendCallback(i)},className:"btn btn-outline-success ml-2 btn-sm",children:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-plus",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"}),Object(c.jsx)("path",{"fill-rule":"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})]})})]})})})}),de=function(e){var t=Object(n.useState)({text:""}),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addMessageCallback(i),r({text:""})},children:[Object(c.jsx)("h6",{className:"text-center",children:-1===e.habit.habitId?"Pick a friend's habit":Object(c.jsxs)("div",{className:"text-left",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(c.jsx)("h5",{children:"Message"}),Object(c.jsx)("button",{onClick:function(t){return e.deselectFriendHabitCallback({habitId:-1,friendName:"",friendImageUrl:""})},className:"btn btn-outline-secondary mr-2 btn-sm",children:"Cancel"})]}),Object(c.jsxs)("div",{className:"mt-2",children:["To: ",Object(c.jsx)("img",{className:"rounded-circle border border-secondary mr-1 ml-1",src:e.habit.friendImageUrl,alt:e.habit.friendName}),e.habit.friendName,"'s Habit#",e.habit.habitId]})]})}),Object(c.jsxs)("div",{className:"form-group text-left",children:[Object(c.jsx)("textarea",{id:"text",name:"text",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(T.a)({},e.target.name,e.currentTarget.value)))},value:i.text,className:"form-control",placeholder:"You got this!"}),Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("button",{type:"submit",className:-1!==e.habit.habitId?"btn btn-outline-success mt-3 btn-sm":"btn btn-outline-success mt-3 btn-sm disabled",children:"Send Message"})})]})]})},be=(a(239),{year:"numeric",month:"short",day:"numeric"}),je=function(e){var t=Object(n.useState)({id:-1,name:"",about:"",email:"",emailVerified:!1,imageUrl:"",password:"",provider:"",providerId:-1,createdDate:"",lastModifiedDate:""}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),d=Object(o.a)(s,2),b=(d[0],d[1]);return Object(n.useEffect)((function(){-1!==e.requesterId?I.a.get("".concat(j,"/enjoyer/").concat(e.requesterId),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;r(Object(l.a)({},t))})).catch((function(e){b(e.message)})):-1!==e.receiverId&&I.a.get("".concat(j,"/enjoyer/").concat(e.receiverId),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;r(Object(l.a)({},t))})).catch((function(e){b(e.message)}))}),[]),Object(c.jsxs)("div",{className:"card w-100 d-inline-flex bd-highlight m-1",children:[Object(c.jsxs)("div",{className:"card-body p-0",children:[Object(c.jsx)(te.a,{placement:"top",overlay:Object(c.jsx)(ae.a,{id:'tooltip-$"top"',children:i.email}),children:Object(c.jsx)(ce.a,{variant:"outline-light",children:Object(c.jsx)("img",{className:"rounded-circle border border-secondary",src:i.imageUrl,alt:i.name})})}),i.name,Object(c.jsx)("button",{onClick:function(){return e.deleteFriendshipCallback(e.id)},className:"btn btn-outline-danger btn-sm ml-4",children:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-x",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"}),Object(c.jsx)("path",{"fill-rule":"evenodd",d:"M12.146 5.146a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z"})]})})]}),Object(c.jsx)("div",{className:"card-footer text-center p-0",children:e.activated?"Friend since: ".concat(new Date(e.createdDate).toLocaleString("en-US",be)):Object(c.jsx)("div",{children:-1!==e.receiverId?"Request pending":Object(c.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return e.confirmFriendshipCallback({friendshipId:e.id,receiverId:e.currentUser.id})},children:"Confirm"})})})]})},he=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=(a[0],a[1]),r=function(e){I.a.delete("".concat(j,"/friendship/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){i("Friendship ".concat(e," deleted"))})).catch((function(t){i("Unable to delete friendship ".concat(e))}))},s=function(e){I.a.put("".concat(j,"/friendship/").concat(e.friendshipId,"/receiver/").concat(e.receiverId),e,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){i("Friendship ".concat(e.friendshipId," is confirmed"))})).catch((function(t){i("Unable to confirm friendship ".concat(e.friendshipId))}))},l=e.friendList.requester.map((function(t){return Object(c.jsx)(je,{currentUser:e.currentUser,id:t.id,requesterId:-1,receiverId:t.receiver.id,createdDate:t.createdDate,activated:t.activated,deleteFriendshipCallback:r,confirmFriendshipCallback:s},t.id)})),d=e.friendList.receiver.map((function(t){return Object(c.jsx)(je,{currentUser:e.currentUser,id:t.id,requesterId:t.requester.id,receiverId:-1,activated:t.activated,createdDate:t.createdDate,deleteFriendshipCallback:r,confirmFriendshipCallback:s},t.id)}));return Object(c.jsxs)("div",{children:[l,Object(c.jsx)("br",{}),d]})},ue=function(e){return Object(c.jsxs)("div",{className:"card w-100 p-2 bd-highlight text-left mb-2",children:[Object(c.jsxs)("div",{className:"card-body p-1",children:[Object(c.jsxs)("div",{className:e.habitBuilt?"d-flex justify-content-between":"d-flex justify-content-end",children:[Object(c.jsx)("span",{className:"badge badge-pill badge-success mb-2",children:e.habitBuilt?Object(c.jsxs)("div",{children:[Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-award",viewBox:"0 0 16 16",children:[Object(c.jsx)("path",{d:"M9.669.864L8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68L9.669.864zm1.196 1.193l.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702 1.509.229z"}),Object(c.jsx)("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"})]}),"It's part of My Life"]}):""}),Object(c.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(t){return e.selectFriendHabitCallback({habitId:e.id,friendName:e.friendName,friendImageUrl:e.friendImageUrl})},children:"Send Message"})]}),Object(c.jsxs)("h6",{className:"font-weight-boldcard-title",children:[Object(c.jsx)("img",{className:"rounded-circle border border-secondary mr-1",src:e.friendImageUrl,alt:e.friendName}),e.friendName,"'s Habit#",e.id]}),Object(c.jsxs)("div",{className:"card-text",children:[Object(c.jsxs)("div",{children:["Title: ",e.title]}),Object(c.jsxs)("div",{children:["Goal: ",e.goal]})]})]}),Object(c.jsxs)("div",{className:"card-footer text-center p-0",children:["Start date: ",e.createdDate]})]})},me={year:"numeric",month:"short",day:"numeric"},xe=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=(l[0],l[1]);Object(n.useEffect)((function(){I.a.get("".concat(j,"/habits/").concat(e.friendId),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(S.a)(t)):r(t)})).catch((function(e){d(e.message)}))}),[]);var b=i.map((function(t){return Object(c.jsx)(ue,{id:t.id,friendName:t.enjoyer.name,friendImageUrl:t.enjoyer.imageUrl,title:t.title,goal:t.goal,habitBuilt:t.habitBuilt,createdDate:new Date(t.createdDate).toLocaleDateString("en-US",me),selectFriendHabitCallback:e.selectFriendHabitCallback},t.id)}));return Object(c.jsx)("div",{children:b})},Oe=function(e){var t=e.friendList.requester.map((function(t){return Object(c.jsx)(xe,{friendId:t.receiver.id,selectFriendHabitCallback:e.selectFriendHabitCallback,habitPage:!1,habitId:-1},t.receiver.id)})),a=e.friendList.receiver.map((function(t){return Object(c.jsx)(xe,{friendId:t.requester.id,selectFriendHabitCallback:e.selectFriendHabitCallback,habitPage:!1,habitId:-1},t.requester.id)}));return Object(c.jsxs)("div",{children:[t,a]})},fe=function(e){var t=Object(n.useState)({requester:[],receiver:[]}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)({habitId:-1,friendName:"",friendImageUrl:""}),d=Object(o.a)(s,2),b=d[0],h=d[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),x=m[0],O=m[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),p=(g[0],g[1]);Object(n.useEffect)((function(){I.a.get("".concat(j,"/friendship/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(l.a)({},t)):r(t)})).catch((function(e){p(e.message)}))}),[]);return Object(c.jsxs)("div",{className:"container component-bkgd pt-5 p-4",children:[Object(c.jsx)("h1",{className:"mb-5 text-center",children:"Support your Friends"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-3 text-center",children:[Object(c.jsx)("h5",{className:"mb-2",children:"Friend List"}),Object(c.jsx)("div",{children:Object(c.jsx)(he,{currentUser:e.currentUser,friendList:i})})]}),Object(c.jsxs)("div",{className:"col-5 text-center",children:[Object(c.jsx)("h5",{className:"mb-2",children:"Friends Habits"}),Object(c.jsx)("div",{children:Object(c.jsx)(Oe,{currentUser:e.currentUser,friendList:i,selectFriendHabitCallback:function(e){h(e)}})})]}),Object(c.jsxs)("div",{className:"col-4 text-center",children:[Object(c.jsxs)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight",children:[Object(c.jsx)(le,{searchEmailCallback:function(e){O(e)},resetCallback:function(){O("")}}),0!==x.length?Object(c.jsx)(oe,{email:x,addFriendCallback:function(t){I.a.post("".concat(j,"/friendship/requester/").concat(e.currentUser.id,"/receiver/").concat(t.id),t,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){p("")})).catch((function(e){p("Unable to add this friend")}))},currentUser:e.currentUser}):null]}),Object(c.jsx)("hr",{className:"style1"}),Object(c.jsx)("div",{className:"card w-100 d-inline-flex bd-highlight",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)(de,{habit:b,addMessageCallback:function(t){I.a.post("".concat(j,"/habit/").concat(b.habitId,"/habitMsg/").concat(e.currentUser.id),t,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){p("")})).catch((function(e){p("Unable to add a new habit")}))},deselectFriendHabitCallback:function(e){h(e)}})})})]})]})]})},ge=(a(240),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(null),j=Object(o.a)(s,2),u=j[0],g=j[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),C=k[0],S=k[1];return Object(n.useEffect)((function(){S(!0),m().then((function(e){g(e),r(!0),S(!1)})).catch((function(e){S(!1)}))}),[]),Object(c.jsxs)(d.a,{basename:"/reactjs-habit-builder",children:[C?Object(c.jsx)(f,{}):null,Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"app-top-box",children:Object(c.jsx)(x,{authenticated:i,onLogout:function(){localStorage.removeItem(h),r(!1),g(null),window.location.href="/reactjs-habit-builder"}})}),Object(c.jsx)("div",{children:Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{exact:!0,path:"/",component:v}),Object(c.jsx)(p,{path:"/profile",authenticated:i,currentUser:u,component:B}),Object(c.jsx)(p,{path:"/habit",authenticated:i,component:se,currentUser:u}),Object(c.jsx)(p,{path:"/habitTracker",authenticated:i,component:K,currentUser:u}),Object(c.jsx)(p,{path:"/friendship",authenticated:i,component:fe,currentUser:u}),Object(c.jsx)(b.b,{path:"/login",render:function(e){return Object(c.jsx)(w,Object(l.a)({authenticated:i},e))}}),Object(c.jsx)(b.b,{path:"/signup",render:function(e){return Object(c.jsx)(D,Object(l.a)({authenticated:i},e))}}),Object(c.jsx)(b.b,{path:"/oauth2/redirect",component:H}),Object(c.jsx)(b.b,{component:O})]})})]}),Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(N,{})})]})}),pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,251)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(ge,{})}),document.getElementById("root")),pe()},69:function(e,t,a){},70:function(e,t,a){}},[[241,1,2]]]);
//# sourceMappingURL=main.307ab7c3.chunk.js.map