(this["webpackJsonpreactjs-habit-builder"]=this["webpackJsonpreactjs-habit-builder"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),i=c.n(n),r=c(32),s=c.n(r),l=(c(40),c(2)),o=c(3),b=c(4),j=c(5),d="http://localhost:3000",u="accessToken",h=d+"/oauth2/authorize/google?redirect_uri=http://localhost:3001/oauth2/redirect";function m(){return localStorage.getItem(u)?function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem(u)&&t.append("Authorization","Bearer "+localStorage.getItem(u));var c={headers:t};return e=Object.assign({},c,e),fetch(e.url,e).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))}))}({url:d+"/enjoyer/me",method:"GET"}):Promise.reject("No access token set.")}c(41);var O=function(e){return Object(a.jsx)("header",{className:"app-header",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"app-options",children:Object(a.jsxs)("nav",{className:"app-nav fixed-top navbar-light bg-light",children:[Object(a.jsx)(b.b,{to:"/",className:"navbar-brand navbar-nav mr-auto text-center",children:Object(a.jsx)("h1",{className:"display-3",children:"Habit Buddy"})}),e.authenticated?Object(a.jsxs)("ul",{className:"nav justify-content-end",children:[Object(a.jsx)("li",{children:Object(a.jsx)(b.c,{to:"/habit",children:"Habit"})}),Object(a.jsx)("li",{children:Object(a.jsx)(b.c,{to:"/habitTracker",children:"Habit Tracker"})}),Object(a.jsx)("li",{children:Object(a.jsx)(b.c,{to:"/friendship",children:"Friends"})}),Object(a.jsx)("li",{children:Object(a.jsx)(b.c,{to:"/profile",children:"Profile"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"thumbnail",onClick:e.onLogout,children:"Logout"})})]}):Object(a.jsxs)("ul",{className:"nav justify-content-end",children:[Object(a.jsx)("li",{children:Object(a.jsx)(b.c,{to:"/login",children:"Login"})}),Object(a.jsx)("li",{children:Object(a.jsx)(b.c,{to:"/signup",children:"Signup"})})]})]})})})})},x=(c(50),function(){return Object(a.jsxs)("div",{className:"page-not-found",children:[Object(a.jsx)("h1",{className:"title",children:"404"}),Object(a.jsx)("div",{className:"desc",children:"The Page you're looking for was not found."}),Object(a.jsx)(b.b,{to:"/",children:Object(a.jsx)("button",{className:"go-back-btn btn btn-primary",type:"button",children:"Go Back"})})]})}),g=function(){return Object(a.jsx)("div",{className:"loading-indicator",style:{display:"block",textAlign:"center",marginTop:"30px"},children:"Loading ..."})},p=c(34),f=function(e){var t=e.component,c=e.authenticated,n=Object(p.a)(e,["component","authenticated"]);return Object(a.jsx)(j.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return c?Object(a.jsx)(t,Object(l.a)(Object(l.a)({},n),e)):Object(a.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},N=(c(51),function(){return Object(a.jsx)("div",{className:"home-container",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("h1",{className:"home-title",children:"Spring Boot React OAuth2 Social Login for Habit Buddy"})})})}),v=(c(22),c.p+"static/media/google-logo.9a818e61.png"),k=function(){return Object(a.jsx)("div",{className:"social-login",children:Object(a.jsxs)("a",{className:"btn btn-block social-btn google",href:h,children:[Object(a.jsx)("img",{src:v,alt:"Google"})," Log in with Google"]})})},y=function(e){return e.authenticated?Object(a.jsx)(j.a,{to:{pathname:"/",state:{from:e.location}}}):Object(a.jsx)("div",{className:"login-container",children:Object(a.jsxs)("div",{className:"login-content",children:[Object(a.jsx)("h1",{className:"login-title",children:"Login to Habit Buddy"}),Object(a.jsx)(k,{}),Object(a.jsx)("div",{className:"or-separator",children:Object(a.jsx)("span",{className:"or-text",children:"OR"})}),Object(a.jsxs)("span",{className:"signup-link",children:["New user? ",Object(a.jsx)(b.b,{to:"/signup",children:"Sign up!"})]})]})})},S=(c(23),function(){return Object(a.jsx)("div",{className:"social-signup",children:Object(a.jsxs)("a",{className:"btn btn-block social-btn google",href:h,children:[Object(a.jsx)("img",{src:v,alt:"Google"})," Sign up with Google"]})})}),U=function(e){return Object(a.jsxs)("div",{className:"signup-container",children:[e.authenticated?Object(a.jsx)(j.a,{to:{pathname:"/",state:{from:e.location}}}):null,Object(a.jsxs)("div",{className:"signup-content",children:[Object(a.jsx)("h1",{className:"signup-title",children:"Signup with Habit Buddy"}),Object(a.jsx)(S,{}),Object(a.jsx)("div",{className:"or-separator",children:Object(a.jsx)("span",{className:"or-text",children:"OR"})}),Object(a.jsxs)("span",{className:"login-link",children:["Already have an account? ",Object(a.jsx)(b.b,{to:"/login",children:"Login!"})]})]})]})},C=c(13),w=c(7),T=c.n(w),I=c(8),B=function(e){var t=Object(n.useState)({name:e.currentUser.name,imageUrl:e.currentUser.imageUrl,about:e.currentUser.about}),c=Object(o.a)(t,2),i=c[0],r=c[1],s=function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))};return Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.updateUserCallback(i),r({name:"",imageUrl:"",about:""})},className:"justify-content-center",children:[Object(a.jsx)("h2",{className:"new-card-form__header mt-3",children:"Update Your Informatoin"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Name:"}),Object(a.jsx)("input",{id:"name",name:"name",onChange:s,value:i.name,className:"form-control",placeholder:e.currentUser.name?e.currentUser.name:"Your display name...",type:"text"}),Object(a.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Your Image:"}),Object(a.jsx)("input",{id:"imageUrl",name:"imageUrl",onChange:s,value:i.imageUrl,className:"form-control",placeholder:e.currentUser.imageUrl?e.currentUser.imageUrl:"Your display image...",type:"text"}),Object(a.jsx)("label",{className:"exampleInputEmail1 m-2",children:"About You:"}),Object(a.jsx)("textarea",{id:"about",name:"about",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))},value:i.about,className:"form-control",placeholder:e.currentUser.about?e.currentUser.about:"Something about you..."}),Object(a.jsx)("button",{onClick:function(t){return e.cancelUpdateUserCallback},className:"btn btn-outline-info mt-3 mr-3",children:"Cancel"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-success mt-3",children:"Save"})]})]})},H=(c(70),function(e){var t=Object(n.useState)(!1),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(!1),b=Object(o.a)(s,2),u=b[0],h=b[1],m=Object(n.useState)(Object(l.a)({},e.currentUser)),O=Object(o.a)(m,2),x=O[0],g=O[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),N=(f[0],f[1]);Object(n.useEffect)((function(){T.a.get("".concat(d,"/enjoyer/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;g(t)})).catch((function(e){N(e.message)}))}),[]);return u?Object(a.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location,error:{from:e.location}}}}):Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"mb-5 text-center",children:"Your Profile"}),Object(a.jsxs)("div",{className:"row profile-info",children:[Object(a.jsx)("div",{className:(e.currentUser.imageUrl,"col-sm"),children:x.imageUrl?Object(a.jsx)("img",{src:x.imageUrl,alt:x.name}):Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:x.name&&x.name[0]})})}),Object(a.jsxs)("div",{className:"col-sm",children:[Object(a.jsxs)("div",{className:"text-center m-5",children:[Object(a.jsx)("h2",{children:x.name}),Object(a.jsx)("p",{className:"text-center m-2",children:x.email}),Object(a.jsx)("h5",{className:"mt-5 text-center",children:" About you"}),Object(a.jsx)("div",{className:"card d-inline-flex mt-2",children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:x.about})})})})]}),Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("button",{onClick:function(e){return r(!0)},className:"btn btn-outline-info",children:"Edit"}),Object(a.jsx)("button",{onClick:function(){return e=x.id,h(!u),void T.a.delete("".concat(d,"/enjoyer/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){N("Enjoyer ".concat(e," deleted"))})).catch((function(t){N("Unable to delete enjoyer ".concat(e))}));var e},className:"btn btn-outline-danger ml-3","data-testid":x.id,children:"Delete Account"}),i?Object(a.jsx)(B,{updateUserCallback:function(t){r(!1),T.a.put("".concat(d,"/enjoyer/").concat(e.currentUser.id),Object(l.a)(Object(l.a)({},t),{},{id:e.currentUser.id}),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var c=[].concat(Object(C.a)(x),Object(C.a)(t));g(c),N(""),console.log(i)})).catch((function(e){N("Unable to update User Info")}))},cancelUpdateUserCallback:function(){r(!1)},currentUser:x}):null]})]}),Object(a.jsx)("div",{className:"col-1"})]})]})}),E=function(e){var t=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e.location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},c=t("token"),n=t("error");return c?(localStorage.setItem(u,c),Object(a.jsx)(j.a,{to:{pathname:"/profile",state:{from:e.location}}})):Object(a.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location,error:n}}})},A=["daily","weekly","monthly","yearly"],P=function(e){var t=Object(n.useState)({title:"",goal:"",description:"",streak:""}),c=Object(o.a)(t,2),i=c[0],r=c[1],s=function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))};return Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addHabitCallback(i),r({title:"",goal:"",description:"",streak:""})},className:"text-center",children:[Object(a.jsx)("h3",{className:"text-center",children:"New Habit"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"exampleInputEmail1",children:"Title:"}),Object(a.jsx)("input",{id:"title",name:"title",onChange:s,value:i.title,className:"form-control",placeholder:"Eat veggies...",type:"text"}),Object(a.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Goal:"}),Object(a.jsx)("input",{id:"goal",name:"goal",onChange:s,value:i.goal,className:"form-control",placeholder:"Two type of veggies per day...",type:"text"}),Object(a.jsx)("label",{className:"exampleInputEmail1 m-2",children:"Note:"}),Object(a.jsx)("textarea",{id:"description",name:"description",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))},value:i.description,className:"form-control",placeholder:"Put veggies in grocery shopping list..."}),Object(a.jsx)("label",{className:"exampleFormControlSelect1 m-2",children:"Streak:"}),Object(a.jsx)("select",{className:"form-control",defaultValue:"yearly",name:"streak",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))},children:A.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-success mt-3",children:"Add Habit"})})]})]})},z=["daily","weekly","monthly","yearly"],L=function(e){var t=Object(n.useState)({title:e.title,goal:e.goal,description:e.description,streak:e.streak,habitBuilt:e.habitBuilt}),c=Object(o.a)(t,2),i=c[0],r=c[1],s=function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))};return Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.updateHabitCallback(i),r({title:"",goal:"",description:"",streak:"",habitBuilt:e.habitBuilt})},className:"justify-content-center",children:[Object(a.jsxs)("h2",{className:"new-card-form__header",children:["Update Habit# ",e.id]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{id:"toggleSwitch",name:"toggleSwitch",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},{habitBuilt:e.target.checked}))},defaultChecked:i.habitBuilt,className:"toggle-switch-checkbox mr-2",type:"checkbox"}),Object(a.jsx)("label",{className:"toggle-switch-label",htmlFor:"toggleSwitch",children:"It's part of my life Now!"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"exampleInputEmail1",children:"Title:"}),Object(a.jsx)("input",{id:"title",name:"title",onChange:s,value:i.title,className:"form-control w-100",type:"text"}),Object(a.jsx)("label",{className:"exampleInputEmail1",children:"Goal:"}),Object(a.jsx)("input",{id:"goal",name:"goal",onChange:s,value:i.goal,className:"form-control w-100",type:"text"}),Object(a.jsx)("label",{className:"exampleInputEmail1",children:"Description:"}),Object(a.jsx)("textarea",{id:"description",name:"description",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))},value:i.description,className:"form-control w-100",placeholder:"description"}),Object(a.jsx)("label",{className:"exampleFormControlSelect1",children:"Streak:"}),Object(a.jsx)("select",{className:"form-control w-100",name:"streak",onChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},Object(I.a)({},e.target.name,e.currentTarget.value)))},children:z.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))}),Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("button",{onClick:function(t){return e.cancelUpdateHabitCallback},className:"btn btn-outline-info mt-3 mr-3",children:"Cancel"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-success mt-3",children:"Save"})]})]})]})},R=function(e){var t=Object(n.useState)(null),c=Object(o.a)(t,2),i=(c[0],c[1],Object(n.useState)("")),r=Object(o.a)(i,2),s=(r[0],r[1],Object(n.useState)({habitId:-1,record:!1,memo:""})),b=Object(o.a)(s,2),j=b[0],d=b[1];return Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addHabitTrackerCallback(Object(l.a)(Object(l.a)({},j),{},{habitId:e.habitId})),d({habitId:-1,record:!1,memo:""})},children:[Object(a.jsxs)("h3",{children:["New Record for Habit# ",-1!=e.habitId?e.habitId:null]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("div",{className:"text-left",children:[Object(a.jsx)("input",{id:"toggleSwitch",name:"toggleSwitch",onChange:function(e){d(Object(l.a)(Object(l.a)({},j),{},{record:e.target.checked}))},defaultChecked:j.record,className:"toggle-switch-checkbox mr-2",type:"checkbox"}),Object(a.jsx)("label",{className:"toggle-switch-label",htmlFor:"toggleSwitch",children:"Check!"})]}),Object(a.jsx)("label",{className:"",children:"Note:"}),Object(a.jsx)("textarea",{id:"memo",name:"memo",onChange:function(e){d(Object(l.a)(Object(l.a)({},j),{},Object(I.a)({},e.target.name,e.currentTarget.value)))},value:j.memo,className:"form-control",placeholder:"I had tomato and zucchini today"}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-success mt-3",children:"Add Record"})})]})]})},F=function(e){return Object(a.jsx)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight m-2",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"d-flex justify-content-between",children:Object(a.jsxs)("h5",{className:"display-5",children:["Record# ",e.id]})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["Note: ",e.memo,Object(a.jsx)("br",{}),"Created date:"]})," "]})]})})},G=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),b=(l[0],l[1]);Object(n.useEffect)((function(){T.a.get("".concat(d,"/habitTrackers/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(C.a)(t)):r(t)})).catch((function(e){b(e.message)}))}),[]);var j=function(e){var t=i.filter((function(t){return t.id!==e}));t.length<i.length&&(T.a.delete("".concat(d,"/habitTracker/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){b("Habit ".concat(e," deleted"))})).catch((function(t){b("Unable to delete habit ".concat(e))})),r(t))},u=i.map((function(e){return Object(a.jsx)(F,{id:e.id,record:e.record,memo:e.memo,deleteHabitTrackerCallback:j},e.id)}));return Object(a.jsx)("div",{children:u})},D=(c(71),function(e){var t=Object(n.useState)(-1),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(null),b=Object(o.a)(s,2),j=b[0],u=b[1],h=Object(n.useState)([]),m=Object(o.a)(h,2),O=m[0],x=m[1],g=Object(n.useState)(""),p=Object(o.a)(g,2),f=(p[0],p[1]);Object(n.useEffect)((function(){var t=function(e){var t=e.split("/"),c=Number(t[t.length-1]);return!isNaN(c)&&(r(c),c)}(e.location.pathname);null!=t&&T.a.get("".concat(d,"/habit/").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=Object(l.a)({},e.data);u(Object(l.a)({},t)),console.log(j)})).catch((function(e){f(e.message)}))}),[]);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"mb-5 text-center",children:"Habit Tracker"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-3",children:[Object(a.jsx)("h5",{className:"mb-2 text-center",children:"Habit List"}),Object(a.jsx)("p",{children:"Search bar...coming soon"}),Object(a.jsx)(_,{currentUser:e.currentUser,habitPage:!1,habitId:i}),Object(a.jsx)("hr",{className:"style1"}),Object(a.jsx)(_,{currentUser:e.currentUser,habitPage:!1,habitId:-1})]}),Object(a.jsxs)("div",{className:"col-6",children:["habit graph on the top, and habit record form on the bottom",Object(a.jsx)("hr",{className:"style1"}),Object(a.jsx)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight m-2",children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(R,{habitId:i,addHabitTrackerCallback:function(e){T.a.post("".concat(d,"/habit/").concat(e.habitId,"/habitTracker"),e,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=[].concat(Object(C.a)(O),[e.data]);x(t),f("")})).catch((function(e){f("Unable to add a new habit record")}))}})})})]}),Object(a.jsxs)("div",{className:"col-3",children:[Object(a.jsx)("h5",{className:"mb-2 text-center",children:"Habit Records"}),Object(a.jsx)(G,{currentUser:e.currentUser})]})]})]})}),Y=function(e){var t=Object(n.useState)(!1),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),h=(u[0],u[1]);Object(n.useEffect)((function(){}),[i]);return Object(a.jsx)("div",{className:"card w-100 d-inline-flex p-2 bd-highlight m-2",children:Object(a.jsxs)("div",{className:"card-body",children:[i?Object(a.jsx)(L,{id:e.id,title:e.title,goal:e.goal,description:e.description,streak:e.streak,habitBuilt:e.habitBuilt,updateHabitCallback:function(t){T.a.put("".concat(d,"/habit/").concat(e.id),Object(l.a)(Object(l.a)({},t),{},{id:e.id}),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){h("Habit ".concat(e.id," updated")),r(!1)})).catch((function(t){h("Unable to update habit ".concat(e.id))}))},cancelUpdateHabitCallback:function(){r(!1)}}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:e.habitBuilt?"d-flex justify-content-between":"d-flex justify-content-end",children:[Object(a.jsx)("span",{className:"badge badge-pill badge-success mb-3",children:e.habitBuilt?e.habitPage?"It's part of My Life":" ":""}),Object(a.jsx)(j.d,{children:e.habitPage?Object(a.jsxs)("div",{children:[Object(a.jsx)(b.b,{to:"/habitTracker/habit/".concat(e.id),children:"View Record"}),Object(a.jsx)(j.b,{className:"mb-2",path:"/habitTracker/habit/".concat(e.id),component:D,currentHabit:e.id})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(b.b,{to:"/habit",children:"Read More"}),Object(a.jsx)(j.b,{path:"/habit",className:"mb-2"})]})})]}),Object(a.jsx)("div",{className:"d-flex justify-content-between",children:Object(a.jsxs)("h5",{className:"display-5",children:["Habit#",e.id," - ",e.title]})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("h6",{children:["Goal: ",e.goal]}),Object(a.jsxs)("p",{children:["Streak: ",e.streak,Object(a.jsx)("br",{}),"Start date:"]})," "]}),e.habitPage?Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{className:"my-1"}),Object(a.jsx)("p",{children:e.description})]}):null]}),e.habitPage?Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:function(){return e.deleteHabitCallback(e.id)},className:"btn btn-outline-danger","data-testid":e.id,children:"Delete"}),i?null:Object(a.jsx)("button",{onClick:function(e){return r(!0)},className:"btn btn-outline-info m-3",children:"Edit"})]}):null]})})},_=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),b=(l[0],l[1]),j=Object(n.useState)(!1),u=Object(o.a)(j,2);u[0],u[1];Object(n.useEffect)((function(){T.a.get("".concat(d,"/habits/").concat(e.currentUser.id),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=e.data;0!==t.length?r(Object(C.a)(t)):r(t)})).catch((function(e){b(e.message)}))}),[]);var h=function(e){var t=i.filter((function(t){return t.id!==e}));t.length<i.length&&(T.a.delete("".concat(d,"/habit/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(t){b("Habit ".concat(e," deleted"))})).catch((function(t){b("Unable to delete habit ".concat(e))})),r(t))},m=i.filter((function(t){return t.id===e.habitId})).map((function(t){return Object(a.jsx)(Y,{id:t.id,title:t.title,goal:t.goal,description:t.description,streak:t.streak,habitBuilt:t.habitBuilt,deleteHabitCallback:h,habitPage:e.habitPage},t.id)})),O=i.map((function(t){return Object(a.jsx)(Y,{id:t.id,title:t.title,goal:t.goal,description:t.description,streak:t.streak,habitBuilt:t.habitBuilt,deleteHabitCallback:h,habitPage:e.habitPage},t.id)}));return Object(a.jsx)("div",{children:-1===e.habitId?O:m})},M=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),b=l[0],j=l[1];return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"mb-5 text-center",children:"Your Habits"}),Object(a.jsx)("div",{className:"validation-errors-display",children:Object(a.jsx)("h2",{className:"validation-errors-display__list",children:b})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-3",children:Object(a.jsx)(P,{addHabitCallback:function(t){T.a.post("".concat(d,"/enjoyer/").concat(e.currentUser.id,"/habit"),t,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){var t=[].concat(Object(C.a)(i),[e.data]);r(t),j("")})).catch((function(e){j("Unable to add a new habit")}))}})}),Object(a.jsx)("div",{className:"col-6",children:Object(a.jsx)(_,{currentUser:e.currentUser,habitPage:!0,habitId:-1})}),Object(a.jsx)("div",{className:"col-3",children:Object(a.jsx)("h3",{className:"text-center",children:"Habit Messages"})})]})]})},J=function(e){return console.log(e),Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Friendship"})})},V=(c(72),function(e){var t=Object(n.useState)(!1),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(null),d=Object(o.a)(s,2),h=d[0],p=d[1],v=Object(n.useState)(!1),k=Object(o.a)(v,2),S=k[0],C=k[1];return Object(n.useEffect)((function(){C(!0),m().then((function(e){p(e),r(!0),C(!1)})).catch((function(e){C(!1)}))}),[]),Object(a.jsxs)(b.a,{children:[S?Object(a.jsx)(g,{}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"app-top-box",children:Object(a.jsx)(O,{authenticated:i,onLogout:function(){localStorage.removeItem(u),r(!1),p(null)}})}),Object(a.jsx)("div",{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/",component:N}),Object(a.jsx)(f,{path:"/profile",authenticated:i,currentUser:h,component:H}),Object(a.jsx)(f,{path:"/habit",authenticated:i,component:M,currentUser:h}),Object(a.jsx)(f,{path:"/habitTracker",authenticated:i,component:D,currentUser:h}),Object(a.jsx)(f,{path:"/friendship",authenticated:i,component:J,currentUser:h}),Object(a.jsx)(j.b,{path:"/login",render:function(e){return Object(a.jsx)(y,Object(l.a)({authenticated:i},e))}}),Object(a.jsx)(j.b,{path:"/signup",render:function(e){return Object(a.jsx)(U,Object(l.a)({authenticated:i},e))}}),Object(a.jsx)(j.b,{path:"/oauth2/redirect",component:E}),Object(a.jsx)(j.b,{component:x})]})})]})]})}),q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,74)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),q()}},[[73,1,2]]]);
//# sourceMappingURL=main.cff2b34e.chunk.js.map